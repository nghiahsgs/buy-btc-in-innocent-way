import numpy as np
import matplotlib.pyplot as plt
import utils
# #1-6-2019 => 1-6-2020
# list_prices = ["10,167.27", "9,461.06", "9,700.41", "9,439.12", "9,525.75", "9,181.02", "8,835.05", "8,906.93", "8,790.37", "9,209.29", "9,182.58", "9,081.76", "9,522.98", "9,729.04", "9,726.57", "9,670.74", "9,377.01", "9,328.20", "9,733.72", "9,269.99", "8,804.48", "8,601.80", "8,756.43", "9,593.90", "9,842.67", "9,951.52", "9,268.76", "9,003.07", "8,912.65", "8,897.47", "8,988.60", "8,864.77", "8,658.55", "8,801.04", "7,807.06", "7,795.60", "7,679.87", "7,569.94", "7,550.90", "7,429.72", "7,117.21", "6,880.32", "6,881.96", "7,189.42", "7,257.66", "7,096.18", "7,116.80", "6,642.11", "6,842.43", "6,845.04", "6,971.09", "6,859.08", "6,865.49", "7,302.09", "7,334.10", "7,176.41", "7,271.78", "6,791.13", "6,867.53", "6,733.39", "6,793.62", "6,606.78", "6,438.64", "6,429.84", "5,922.04", "6,242.19", "6,469.80", "6,716.44", "6,681.06", "6,734.80", "6,416.31", "5,830.25", "6,185.07", "6,198.78", "6,191.19", "5,238.44", "5,225.63", "5,014.48", "5,392.31", "5,200.37", "5,563.71", "4,970.79", "7,911.43", "7,909.73", "7,923.64", "8,108.12", "8,909.95", "9,122.55", "9,078.76", "8,755.25", "8,787.79", "8,869.67", "8,562.45", "8,599.51", "8,672.46", "8,784.49", "8,820.52", "9,341.71", "9,650.17", "9,924.52", "9,663.18", "9,686.44", "9,608.48", "9,633.39", "10,142.00", "9,690.14", "9,934.43", "9,889.42", "10,312.12", "10,214.38", "10,326.05", "10,208.24", "9,856.61", "10,116.67", "9,865.12", "9,795.94", "9,729.80", "9,613.42", "9,180.96", "9,293.52", "9,344.37", "9,392.88", "9,350.53", "9,508.99", "9,316.63", "9,358.59", "8,909.82", "8,596.83", "8,367.85", "8,445.43", "8,406.52", "8,680.88", "8,745.89", "8,657.64", "8,706.25", "8,942.81", "8,929.04", "8,723.79", "8,807.01", "8,827.76", "8,144.19", "8,192.49", "8,037.54", "8,166.55", "7,879.07", "8,079.86", "8,163.69", "7,769.22", "7,411.32", "7,410.66", "7,344.88", "6,985.47", "7,200.17", "7,193.60", "7,293.00", "7,422.65", "7,317.99", "7,290.09", "7,238.97", "7,275.16", "7,322.53", "7,355.63", "7,511.59", "7,191.16", "7,218.82", "7,202.84", "7,276.80", "6,640.52", "6,932.48", "7,152.30", "7,124.67", "7,269.68", "7,243.13", "7,217.43", "7,278.12", "7,400.90", "7,564.35", "7,556.24", "7,547.00", "7,448.31", "7,252.03", "7,320.15", "7,321.99", "7,424.29", "7,569.63",
#                "7,761.24", "7,463.11", "7,531.66", "7,218.37", "7,146.13", "7,047.92", "7,397.80", "7,296.58", "7,642.75", "8,027.27", "8,206.15", "8,309.29", "8,577.98", "8,550.76", "8,491.99", "8,708.10", "8,808.26", "8,815.66", "8,757.79", "9,055.53", "8,813.58", "8,804.88", "9,267.56", "9,360.88", "9,342.53", "9,412.61", "9,235.35", "9,324.72", "9,261.10", "9,199.58", "9,205.73", "9,427.69", "9,256.15", "9,551.71", "9,244.97", "8,660.70", "7,493.49", "7,514.67", "8,078.20", "8,243.72", "8,222.08", "7,988.56", "7,973.21", "8,103.91", "8,047.53", "8,205.37", "8,374.69", "8,321.01", "8,336.56", "8,321.76", "8,586.47", "8,595.74", "8,228.78", "8,245.62", "7,988.16", "8,151.50", "8,205.94", "8,259.99", "8,393.04", "8,343.28", "8,293.87", "8,104.19", "8,245.92", "8,251.85", "8,118.97", "8,486.99", "8,620.57", "9,729.32", "10,070.39", "10,019.72", "10,181.64", "10,266.41", "10,198.25", "10,241.27", "10,276.79", "10,347.71", "10,358.05", "10,360.55", "10,410.13", "10,178.37", "10,115.98", "10,334.97", "10,441.28", "10,517.25", "10,353.30", "10,575.53", "10,594.49", "10,623.54", "10,346.76", "9,757.97", "9,630.66", "9,598.17", "9,510.20", "9,754.42", "10,185.50", "10,370.82", "10,138.52", "10,159.96", "10,407.97", "10,131.06", "10,138.05", "10,763.23", "10,916.05", "10,345.81", "10,231.74", "10,374.34", "10,311.55", "10,051.70", "10,895.83", "11,382.62", "11,523.58", "11,354.02", "11,862.94", "11,966.41", "11,941.97", "11,478.17", "11,805.65", "10,970.18", "10,821.73", "10,518.17", "10,399.67", "10,085.63", "9,607.42", "9,519.15", "9,552.86", "9,477.68", "9,870.30", "9,911.84", "9,811.93", "9,900.77", "10,343.11", "10,599.11", "10,767.14", "10,530.73", "10,666.48", "9,693.80", "9,477.64", "10,895.09", "10,256.06", "11,392.38", "11,815.99", "11,358.66", "12,156.51", "12,573.81", "12,285.96", "11,450.85", "11,208.55", "10,978.46", "11,215.44", "11,961.27", "10,801.68", "10,583.13", "10,817.16", "11,959.37", "12,407.33", "11,182.81", "13,016.23", "11,790.92", "11,011.10", "10,855.37", "10,701.69", "10,144.56", "9,527.16", "9,273.52", "9,081.76", "9,320.35", "8,994.49", "8,838.38", "8,693.83", "8,230.92", "8,145.86", "7,927.71", "8,000.33", "7,688.08", "7,954.13", "8,043.95", "7,822.02", "7,824.23", "7,707.77", "8,208.99", "8,742.96"]

# #1-6-2018 => 1-6-2019
# list_prices = ["8,208.99", "8,742.96", "8,564.02", "8,574.50", "8,319.47", "8,659.49", "8,719.96", "8,805.78", "8,673.22", "8,052.54", "7,987.37", "7,881.85", "7,680.07", "7,963.33", "7,978.31", "8,197.69", "7,271.21", "7,343.90", "7,884.91", "8,205.17", "7,994.42", "7,814.92", "6,972.37", "7,204.77", "6,378.85", "6,174.53", "5,982.46", "5,829.50", "5,746.81", "5,795.71", "5,831.17", "5,768.29", "5,505.28", "5,402.70", "5,350.73", "5,247.35", "5,285.14", "5,268.29", "5,279.35", "5,210.52", "5,464.87", "5,572.36", "5,399.37", "5,314.53", "5,337.89", "5,303.81", "5,298.39", "5,251.94", "5,235.56", "5,067.11", "5,167.72", "5,096.59", "5,089.54", "5,064.49", "5,324.55", "5,204.96", "5,289.77", "5,198.90", "5,059.82", "5,036.68", "4,922.80", "4,973.02", "4,879.88", "4,158.18", "4,105.40", "4,106.66", "4,098.37", "4,069.11", "4,087.07", "3,985.08", "3,963.07", "4,022.17", "4,035.83", "4,023.97", "4,029.33", "4,087.48", "4,071.19", "4,032.51", "4,025.23", "4,048.73", "3,960.91", "3,924.37", "3,906.72", "3,909.16", "3,905.23", "3,951.60", "3,963.31", "3,901.13", "3,911.48", "3,903.94", "3,896.38", "3,761.56", "3,847.18", "3,864.42", "3,859.58", "3,854.79", "3,851.05", "3,854.36", "3,882.70", "3,810.43", "4,142.53", "4,005.53", "3,954.12", "3,999.82", "3,947.09", "3,915.71", "3,673.84", "3,629.79", "3,620.81", "3,616.88", "3,632.07", "3,653.53", "3,648.43", "3,690.19", "3,671.20", "3,666.78", "3,399.47", "3,413.77", "3,466.36", "3,459.15", "3,464.01", "3,521.06", "3,487.95", "3,457.79", "3,486.18", "3,448.12", "3,470.45", "3,583.97", "3,602.46", "3,599.77", "3,600.87", "3,585.12", "3,604.58", "3,576.03", "3,601.01", "3,728.57", "3,657.84", "3,678.56", "3,655.01", "3,630.68", "3,706.05", "3,552.95", "3,661.30", "3,687.37", "3,678.92", "4,035.30", "4,030.85", "4,025.25", "4,076.63", "3,845.19", "3,857.72", "3,836.74", "3,943.41", "3,843.52", "3,742.70", "3,865.95", "3,820.41", "3,923.92", "3,654.83", "3,857.30", "3,815.49", "4,078.60", "3,998.98", "4,014.18", "3,896.54", "4,134.44", "3,745.95", "3,696.06", "3,545.86", "3,252.84", "3,236.76", "3,242.48", "3,313.68", "3,486.95", "3,424.59", "3,502.66", "3,614.23", "3,476.11", "3,419.94", "3,521.10", "3,753.99", "3,956.89", "3,894.13",
#                "4,139.88", "4,214.67", "4,017.27", "4,278.85", "4,257.42", "3,820.72", "3,779.13", "4,009.97", "3,880.76", "4,347.11", "4,365.94", "4,602.17", "4,451.87", "4,871.49", "5,623.54", "5,554.33", "5,575.55", "5,648.03", "5,738.35", "6,359.49", "6,371.27", "6,411.27", "6,409.22", "6,385.62", "6,453.72", "6,530.14", "6,461.01", "6,419.66", "6,376.13", "6,361.26", "6,388.44", "6,377.78", "6,317.61", "6,334.27", "6,332.63", "6,486.39", "6,480.38", "6,474.75", "6,476.29", "6,495.84", "6,475.74", "6,487.16", "6,482.35", "6,489.19", "6,465.41", "6,476.71", "6,544.43", "6,596.11", "6,596.54", "6,290.93", "6,285.99", "6,274.58", "6,256.24", "6,585.53", "6,642.64", "6,652.23", "6,602.95", "6,588.31", "6,622.48", "6,576.69", "6,502.59", "6,556.10", "6,589.62", "6,625.56", "6,601.96", "6,644.13", "6,676.75", "6,495.00", "6,446.47", "6,595.41", "6,710.63", "6,721.98", "6,734.95", "6,519.67", "6,398.54", "6,371.30", "6,281.20", "6,517.18", "6,543.20", "6,512.71", "6,517.31", "6,351.80", "6,321.20", "6,329.70", "6,300.86", "6,225.98", "6,467.07", "6,529.17", "6,792.83", "7,361.66", "7,260.06", "7,272.72", "7,193.25", "7,037.58", "6,978.23", "7,047.16", "7,096.28", "6,884.64", "6,707.26", "6,763.19", "6,719.96", "6,534.88", "6,376.71", "6,488.76", "6,308.53", "6,506.07", "6,423.76", "6,580.63", "6,334.73", "6,308.52", "6,199.71", "6,297.57", "6,322.69", "6,295.73", "6,184.71", "6,568.23", "6,305.80", "6,753.12", "6,951.80", "7,068.48", "7,032.85", "7,434.39", "7,567.15", "7,624.91", "7,780.44", "8,180.48", "8,218.46", "8,192.15", "8,165.01", "7,951.58", "8,181.39", "8,424.27", "7,711.11", "7,418.49", "7,419.29", "7,354.13", "7,466.86", "7,370.78", "7,321.04", "6,741.75", "6,359.64", "6,276.12", "6,238.05", "6,228.81", "6,394.71", "6,329.95", "6,741.75", "6,773.88", "6,856.93", "6,673.50", "6,639.14", "6,597.55", "6,529.59", "6,614.18", "6,385.82", "6,404.00", "6,218.30", "5,903.44", "6,157.13", "6,093.67", "6,249.18", "6,173.23", "6,162.48", "6,083.69", "6,729.74", "6,776.55", "6,769.94", "6,734.82", "6,499.27", "6,550.16", "6,456.58", "6,675.35", "6,349.90", "6,582.36", "6,906.92", "6,786.02", "7,531.98", "7,624.92", "7,678.24", "7,653.98", "7,633.76", "7,514.47", "7,720.25", "7,643.45"]

coinname = 'bitcoin'
# dayStart = '20190602'
dayStart = '20200101'
dayEnd = '20200602'
list_prices = utils.get_list_price(coinname, dayStart, dayEnd)
list_prices.reverse()
list_prices_btc = [float(price.replace(',', '')) for price in list_prices]

money_buy=0
nb_btc=0
nb_buy_btc_eeach_turn=1
list_prices_buy=[]
for index, price_btc in enumerate(list_prices_btc):
  if(index%7==0):
    nb_btc += nb_buy_btc_eeach_turn
    money_buy += nb_buy_btc_eeach_turn*price_btc
    list_prices_buy.append(price_btc)

print('money_buy', money_buy)

#if sell right now
money_sell = nb_btc*list_prices_btc[-1]
print('money_sell', money_sell)

profit = money_sell-money_buy
print('profit', profit)

profit_2 = (money_sell-money_buy)/money_buy
print('-----------')
print('% profit', profit_2*100,'%')
print('-----------')


print('arg price btc', sum(list_prices_buy)/nb_btc)
print('price btc sell', list_prices_btc[-1])


# plt.plot(np.arange(len(list_prices_btc)), list_prices_btc)
